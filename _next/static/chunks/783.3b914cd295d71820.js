"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[726,783],{721:(t,e,i)=>{function o(){return(o=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o])}return t}).apply(this,arguments)}i.d(e,{A:()=>n});let s=t=>String(t).split(".").map(t=>String(parseInt(t||"0",10))).concat(["0","0"]).slice(0,3).join(".");class n{constructor(){this.isSwupPlugin=!0,this.swup=void 0,this.version=void 0,this.requires={},this.handlersToUnregister=[]}mount(){}unmount(){this.handlersToUnregister.forEach(t=>t()),this.handlersToUnregister=[]}_beforeMount(){if(!this.name)throw Error("You must define a name of plugin when creating a class.")}_afterUnmount(){}_checkRequirements(){return"object"!=typeof this.requires||Object.entries(this.requires).forEach(([t,e])=>{if(!function(t,e,i){let o=function(t,e){var i,o;if("swup"===t)return null!=(i=e.version)?i:"";{let i=e.findPlugin(t);return null!=(o=null==i?void 0:i.version)?o:""}}(t,i);return!!o&&e.every(t=>{var e,i;let[,n,r]=t.match(/^([\D]+)?(.*)$/)||[];return((t,e)=>{let i={"":t=>0===t,">":t=>t>0,">=":t=>t>=0,"<":t=>t<0,"<=":t=>t<=0};return(i[e]||i[""])(t)})((i=r,e=s(e=o),i=s(i),e.localeCompare(i,void 0,{numeric:!0})),n||">=")})}(t,e=Array.isArray(e)?e:[e],this.swup)){let i=`${t} ${e.join(", ")}`;throw Error(`Plugin version mismatch: ${this.name} requires ${i}`)}}),!0}on(t,e,i={}){var o;e=!(o=e).name.startsWith("bound ")||o.hasOwnProperty("prototype")?e.bind(this):e;let s=this.swup.hooks.on(t,e,i);return this.handlersToUnregister.push(s),s}once(t,e,i={}){return this.on(t,e,o({},i,{once:!0}))}before(t,e,i={}){return this.on(t,e,o({},i,{before:!0}))}replace(t,e,i={}){return this.on(t,e,o({},i,{replace:!0}))}off(t,e){return this.swup.hooks.off(t,e)}}},1726:(t,e,i)=>{i.d(e,{default:()=>D,YG:()=>w});let o=new WeakMap;function s(t,e,i,s){if(!t&&!o.has(e))return!1;let n=o.get(e)??new WeakMap;o.set(e,n);let r=n.get(i)??new Set;n.set(i,r);let a=r.has(s);return t?r.add(s):r.delete(s),a&&t}let n=function(t,e,i,o={}){let{signal:n,base:r=document}=o;if(n?.aborted)return;let{once:a,...l}=o,h=r instanceof Document?r.documentElement:r,c=!!("object"==typeof o?o.capture:o),u=o=>{let n=function(t,e){let i=t.target;if(i instanceof Text&&(i=i.parentElement),i instanceof Element&&t.currentTarget instanceof Element){let o=i.closest(e);if(o&&t.currentTarget.contains(o))return o}}(o,String(t));if(n){let t=Object.assign(o,{delegateTarget:n});i.call(h,t),a&&(h.removeEventListener(e,u,l),s(!1,h,i,d))}},d=JSON.stringify({selector:t,type:e,capture:c});s(!0,h,i,d)||h.addEventListener(e,u,l),n?.addEventListener("abort",()=>{s(!1,h,i,d)})};function r(){return(r=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var o in i)({}).hasOwnProperty.call(i,o)&&(t[o]=i[o])}return t}).apply(null,arguments)}let a=(t,e)=>String(t).toLowerCase().replace(/[\s/_.]+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+|-+$/g,"")||e||"",l=({hash:t}={})=>window.location.pathname+window.location.search+(t?window.location.hash:""),h=(t,e={})=>{let i=r({url:t=t||l({hash:!0}),random:Math.random(),source:"swup"},e);window.history.pushState(i,"",t)},c=(t=null,e={})=>{t=t||l({hash:!0});let i=r({},window.history.state||{},{url:t,random:Math.random(),source:"swup"},e);window.history.replaceState(i,"",t)},u=(t,e,i,o)=>{let s=new AbortController;return n(t,e,i,o=r({},o,{signal:s.signal})),{destroy:()=>s.abort()}};class d extends URL{constructor(t,e=document.baseURI){super(t.toString(),e),Object.setPrototypeOf(this,d.prototype)}get url(){return this.pathname+this.search}static fromElement(t){return new d(t.getAttribute("href")||t.getAttribute("xlink:href")||"")}static fromUrl(t){return new d(t)}}class p extends Error{constructor(t,e){super(t),this.url=void 0,this.status=void 0,this.aborted=void 0,this.timedOut=void 0,this.name="FetchError",this.url=e.url,this.status=e.status,this.aborted=e.aborted||!1,this.timedOut=e.timedOut||!1}}async function m(t,e={}){var i;t=d.fromUrl(t).url;let{visit:o=this.visit}=e,s=r({},this.options.requestHeaders,e.headers),n=null!=(i=e.timeout)?i:this.options.timeout,a=new AbortController,{signal:l}=a;e=r({},e,{headers:s,signal:l});let h,c=!1,u=null;n&&n>0&&(u=setTimeout(()=>{c=!0,a.abort("timeout")},n));try{h=await this.hooks.call("fetch:request",o,{url:t,options:e},(t,{url:e,options:i})=>fetch(e,i)),u&&clearTimeout(u)}catch(e){if(c)throw this.hooks.call("fetch:timeout",o,{url:t}),new p(`Request timed out: ${t}`,{url:t,timedOut:c});if("AbortError"===(null==e?void 0:e.name)||l.aborted)throw new p(`Request aborted: ${t}`,{url:t,aborted:!0});throw e}let{status:f,url:g}=h,w=await h.text();if(500===f)throw this.hooks.call("fetch:error",o,{status:f,response:h,url:g}),new p(`Server error: ${g}`,{status:f,url:g});if(!w)throw new p(`Empty response: ${g}`,{status:f,url:g});let{url:v}=d.fromUrl(g),y={url:v,html:w};return!o.cache.write||e.method&&"GET"!==e.method||t!==v||this.cache.set(y.url,y),y}class f{constructor(t){this.swup=void 0,this.pages=new Map,this.swup=t}get size(){return this.pages.size}get all(){let t=new Map;return this.pages.forEach((e,i)=>{t.set(i,r({},e))}),t}has(t){return this.pages.has(this.resolve(t))}get(t){let e=this.pages.get(this.resolve(t));return e?r({},e):e}set(t,e){e=r({},e,{url:t=this.resolve(t)}),this.pages.set(t,e),this.swup.hooks.callSync("cache:set",void 0,{page:e})}update(t,e){t=this.resolve(t);let i=r({},this.get(t),e,{url:t});this.pages.set(t,i)}delete(t){this.pages.delete(this.resolve(t))}clear(){this.pages.clear(),this.swup.hooks.callSync("cache:clear",void 0,void 0)}prune(t){this.pages.forEach((e,i)=>{t(i,e)&&this.delete(i)})}resolve(t){let{url:e}=d.fromUrl(t);return this.swup.resolveUrl(e)}}let g=(t,e=document)=>e.querySelector(t),w=(t,e=document)=>Array.from(e.querySelectorAll(t)),v=()=>new Promise(t=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{t()})})});function y(t){return!!t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof t.then}function S(t,e){let i=null==t?void 0:t.closest(`[${e}]`);return null!=i&&i.hasAttribute(e)?(null==i?void 0:i.getAttribute(e))||!0:void 0}class k{constructor(t){this.swup=void 0,this.swupClasses=["to-","is-changing","is-rendering","is-popstate","is-animating","is-leaving"],this.swup=t}get selectors(){let{scope:t}=this.swup.visit.animation;return"containers"===t?this.swup.visit.containers:"html"===t?["html"]:Array.isArray(t)?t:[]}get selector(){return this.selectors.join(",")}get targets(){return this.selector.trim()?w(this.selector):[]}add(...t){this.targets.forEach(e=>e.classList.add(...t))}remove(...t){this.targets.forEach(e=>e.classList.remove(...t))}clear(){this.targets.forEach(t=>{let e=t.className.split(" ").filter(t=>this.isSwupClass(t));t.classList.remove(...e)})}isSwupClass(t){return this.swupClasses.some(e=>t.startsWith(e))}}class b{constructor(t,e){this.id=void 0,this.state=void 0,this.from=void 0,this.to=void 0,this.containers=void 0,this.animation=void 0,this.trigger=void 0,this.cache=void 0,this.history=void 0,this.scroll=void 0,this.meta=void 0;let{to:i,from:o,hash:s,el:n,event:r}=e;this.id=Math.random(),this.state=1,this.from={url:null!=o?o:t.location.url,hash:t.location.hash},this.to={url:i,hash:s},this.containers=t.options.containers,this.animation={animate:!0,wait:!1,name:void 0,native:t.options.native,scope:t.options.animationScope,selector:t.options.animationSelector},this.trigger={el:n,event:r},this.cache={read:t.options.cache,write:t.options.cache},this.history={action:"push",popstate:!1,direction:void 0},this.scroll={reset:!0,target:void 0},this.meta={}}advance(t){this.state<t&&(this.state=t)}abort(){this.state=8}get done(){return this.state>=7}}function P(t){return new b(this,t)}class E{constructor(t){this.swup=void 0,this.registry=new Map,this.hooks=["animation:out:start","animation:out:await","animation:out:end","animation:in:start","animation:in:await","animation:in:end","animation:skip","cache:clear","cache:set","content:replace","content:scroll","enable","disable","fetch:request","fetch:error","fetch:timeout","history:popstate","link:click","link:self","link:anchor","link:newtab","page:load","page:view","scroll:top","scroll:anchor","visit:start","visit:transition","visit:abort","visit:end"],this.swup=t,this.init()}init(){this.hooks.forEach(t=>this.create(t))}create(t){this.registry.has(t)||this.registry.set(t,new Map)}exists(t){return this.registry.has(t)}get(t){let e=this.registry.get(t);if(e)return e;console.error(`Unknown hook '${t}'`)}clear(){this.registry.forEach(t=>t.clear())}on(t,e,i={}){let o=this.get(t);if(!o)return console.warn(`Hook '${t}' not found.`),()=>{};let s=r({},i,{id:o.size+1,hook:t,handler:e});return o.set(e,s),()=>this.off(t,e)}before(t,e,i={}){return this.on(t,e,r({},i,{before:!0}))}replace(t,e,i={}){return this.on(t,e,r({},i,{replace:!0}))}once(t,e,i={}){return this.on(t,e,r({},i,{once:!0}))}off(t,e){let i=this.get(t);i&&e?i.delete(e)||console.warn(`Handler for hook '${t}' not found.`):i&&i.clear()}async call(t,e,i,o){let[s,n,r]=this.parseCallArgs(t,e,i,o),{before:a,handler:l,after:h}=this.getHandlers(t,r);await this.run(a,s,n);let[c]=await this.run(l,s,n,!0);return await this.run(h,s,n),this.dispatchDomEvent(t,s,n),c}callSync(t,e,i,o){let[s,n,r]=this.parseCallArgs(t,e,i,o),{before:a,handler:l,after:h}=this.getHandlers(t,r);this.runSync(a,s,n);let[c]=this.runSync(l,s,n,!0);return this.runSync(h,s,n),this.dispatchDomEvent(t,s,n),c}parseCallArgs(t,e,i,o){return e instanceof b||"object"!=typeof e&&"function"!=typeof i?[e,i,o]:[void 0,e,i]}async run(t,e=this.swup.visit,i,o=!1){let s=[];for(let{hook:n,handler:r,defaultHandler:a,once:l}of t)if(null==e||!e.done){l&&this.off(n,r);try{let t=await function(t,e=[]){return new Promise((i,o)=>{let s=t(...e);y(s)?s.then(i,o):i(s)})}(r,[e,i,a]);s.push(t)}catch(t){if(o)throw t;console.error(`Error in hook '${n}':`,t)}}return s}runSync(t,e=this.swup.visit,i,o=!1){let s=[];for(let{hook:n,handler:r,defaultHandler:a,once:l}of t)if(null==e||!e.done){l&&this.off(n,r);try{let t=r(e,i,a);s.push(t),y(t)&&console.warn(`Swup will not await Promises in handler for synchronous hook '${n}'.`)}catch(t){if(o)throw t;console.error(`Error in hook '${n}':`,t)}}return s}getHandlers(t,e){let i=this.get(t);if(!i)return{found:!1,before:[],handler:[],after:[],replaced:!1};let o=Array.from(i.values()),s=this.sortRegistrations,n=o.filter(({before:t,replace:e})=>t&&!e).sort(s),r=o.filter(({replace:t})=>t).filter(t=>!0).sort(s),a=o.filter(({before:t,replace:e})=>!t&&!e).sort(s),l=r.length>0,h=[];if(e&&(h=[{id:0,hook:t,handler:e}],l)){let i=r.length-1,{handler:o,once:s}=r[i],n=t=>{let i=r[t-1];return i?(e,o)=>i.handler(e,o,n(t-1)):e};h=[{id:0,hook:t,once:s,handler:o,defaultHandler:n(i)}]}return{found:!0,before:n,handler:h,after:a,replaced:l}}sortRegistrations(t,e){var i,o;return(null!=(i=t.priority)?i:0)-(null!=(o=e.priority)?o:0)||t.id-e.id||0}dispatchDomEvent(t,e,i){if(null!=e&&e.done)return;let o={hook:t,args:i,visit:e||this.swup.visit};document.dispatchEvent(new CustomEvent("swup:any",{detail:o,bubbles:!0})),document.dispatchEvent(new CustomEvent(`swup:${t}`,{detail:o,bubbles:!0}))}parseName(t){let[e,...i]=t.split(".");return[e,i.reduce((t,e)=>r({},t,{[e]:!0}),{})]}}let T=t=>{if(t&&"#"===t.charAt(0)&&(t=t.substring(1)),!t)return null;let e=decodeURIComponent(t),i=document.getElementById(t)||document.getElementById(e)||g(`a[name='${CSS.escape(t)}']`)||g(`a[name='${CSS.escape(e)}']`);return i||"top"!==t||(i=document.body),i},_="transition",A="animation";async function C({selector:t,elements:e}){if(!1===t&&!e)return;let i=[];if(e)i=Array.from(e);else if(t&&!(i=w(t,document.body)).length)return void console.warn(`[swup] No elements found matching animationSelector \`${t}\``);let o=i.map(t=>(function(t){let{type:e,timeout:i,propCount:o}=function(t){let e=window.getComputedStyle(t),i=U(e,`${_}Delay`),o=U(e,`${_}Duration`),s=O(i,o),n=U(e,`${A}Delay`),r=U(e,`${A}Duration`),a=O(n,r),l=Math.max(s,a),h=l>0?s>a?_:A:null;return{type:h,timeout:l,propCount:h?h===_?o.length:r.length:0}}(t);return!(!e||!i)&&new Promise(s=>{let n=`${e}end`,r=performance.now(),a=0,l=()=>{t.removeEventListener(n,h),s()},h=e=>{e.target===t&&((performance.now()-r)/1e3<e.elapsedTime||++a>=o&&l())};setTimeout(()=>{a<o&&l()},i+1),t.addEventListener(n,h)})})(t));o.filter(Boolean).length>0?await Promise.all(o):t&&console.warn(`[swup] No CSS animation duration defined on elements matching \`${t}\``)}function U(t,e){return(t[e]||"").split(", ")}function O(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((e,i)=>Y(e)+Y(t[i])))}function Y(t){return 1e3*parseFloat(t)}function $(t,e={},i={}){if("string"!=typeof t)throw Error("swup.navigate() requires a URL parameter");if(this.shouldIgnoreVisit(t,{el:i.el,event:i.event}))return void window.location.assign(t);let{url:o,hash:s}=d.fromUrl(t),n=this.createVisit(r({},i,{to:o,hash:s}));this.performNavigation(n,e)}async function L(t,e={}){var i,o;if(this.navigating){if(this.visit.state>=6)return t.state=2,void(this.onVisitEnd=()=>this.performNavigation(t,e));await this.hooks.call("visit:abort",this.visit,void 0),delete this.visit.to.document,this.visit.state=8}this.navigating=!0,this.visit=t;let{el:s}=t.trigger;e.referrer=e.referrer||this.location.url,!1===e.animate&&(t.animation.animate=!1),t.animation.animate||this.classes.clear();let n=e.history||S(s,"data-swup-history");"string"==typeof n&&["push","replace"].includes(n)&&(t.history.action=n);let r=e.animation||S(s,"data-swup-animation");"string"==typeof r&&(t.animation.name=r),t.meta=e.meta||{},"object"==typeof e.cache?(t.cache.read=null!=(i=e.cache.read)?i:t.cache.read,t.cache.write=null!=(o=e.cache.write)?o:t.cache.write):void 0!==e.cache&&(t.cache={read:!!e.cache,write:!!e.cache}),delete e.cache;try{await this.hooks.call("visit:start",t,void 0),t.state=3;let i=this.hooks.call("page:load",t,{options:e},async(t,e)=>{let i;return t.cache.read&&(i=this.cache.get(t.to.url)),e.page=i||await this.fetchPage(t.to.url,e.options),e.cache=!!i,e.page});i.then(({html:e})=>{t.advance(5),t.to.html=e,t.to.document=(new DOMParser).parseFromString(e,"text/html")});let o=t.to.url+t.to.hash;if(t.history.popstate||("replace"===t.history.action||t.to.url===this.location.url?c(o):(this.currentHistoryIndex++,h(o,{index:this.currentHistoryIndex}))),this.location=d.fromUrl(o),t.history.popstate&&this.classes.add("is-popstate"),t.animation.name&&this.classes.add(`to-${a(t.animation.name)}`),t.animation.wait&&await i,t.done||(await this.hooks.call("visit:transition",t,void 0,async()=>{if(!t.animation.animate)return await this.hooks.call("animation:skip",void 0),void await this.renderPage(t,await i);t.advance(4),await this.animatePageOut(t),t.animation.native&&document.startViewTransition?await document.startViewTransition(async()=>await this.renderPage(t,await i)).finished:await this.renderPage(t,await i),await this.animatePageIn(t)}),t.done))return;await this.hooks.call("visit:end",t,void 0,()=>this.classes.clear()),t.state=7,this.navigating=!1,this.onVisitEnd&&(this.onVisitEnd(),this.onVisitEnd=void 0)}catch(e){if(!e||null!=e&&e.aborted)return void(t.state=8);t.state=9,console.error(e),this.options.skipPopStateHandling=()=>(window.location.assign(t.to.url+t.to.hash),!0),window.history.back()}finally{delete t.to.document}}let H=async function(t){await this.hooks.call("animation:out:start",t,void 0,()=>{this.classes.add("is-changing","is-animating","is-leaving")}),await this.hooks.call("animation:out:await",t,{skip:!1},(t,{skip:e})=>{if(!e)return this.awaitAnimations({selector:t.animation.selector})}),await this.hooks.call("animation:out:end",t,void 0)},R=function(t){var e;let i=t.to.document;if(!i)return!1;let o=(null==(e=i.querySelector("title"))?void 0:e.innerText)||"";document.title=o;let s=w('[data-swup-persist]:not([data-swup-persist=""])'),n=t.containers.map(t=>{let e=document.querySelector(t),o=i.querySelector(t);return e&&o?(e.replaceWith(o.cloneNode(!0)),!0):(e||console.warn(`[swup] Container missing in current document: ${t}`),o||console.warn(`[swup] Container missing in incoming document: ${t}`),!1)}).filter(Boolean);return s.forEach(t=>{let e=t.getAttribute("data-swup-persist"),i=g(`[data-swup-persist="${e}"]`);i&&i!==t&&i.replaceWith(t)}),n.length===t.containers.length},x=function(t){let e={behavior:"auto"},{target:i,reset:o}=t.scroll,s=null!=i?i:t.to.hash,n=!1;return s&&(n=this.hooks.callSync("scroll:anchor",t,{hash:s,options:e},(t,{hash:e,options:i})=>{let o=this.getAnchorElement(e);return o&&o.scrollIntoView(i),!!o})),o&&!n&&(n=this.hooks.callSync("scroll:top",t,{options:e},(t,{options:e})=>(window.scrollTo(r({top:0,left:0},e)),!0))),n},q=async function(t){if(t.done)return;let e=this.hooks.call("animation:in:await",t,{skip:!1},(t,{skip:e})=>{if(!e)return this.awaitAnimations({selector:t.animation.selector})});await v(),await this.hooks.call("animation:in:start",t,void 0,()=>{this.classes.remove("is-animating")}),await e,await this.hooks.call("animation:in:end",t,void 0)},V=async function(t,e){if(t.done)return;t.advance(6);let{url:i}=e;this.isSameResolvedUrl(l(),i)||(c(i),this.location=d.fromUrl(i),t.to.url=this.location.url,t.to.hash=this.location.hash),await this.hooks.call("content:replace",t,{page:e},(t,{})=>{if(this.classes.remove("is-leaving"),t.animation.animate&&this.classes.add("is-rendering"),!this.replaceContent(t))throw Error("[swup] Container mismatch, aborting");t.animation.animate&&(this.classes.add("is-changing","is-animating","is-rendering"),t.animation.name&&this.classes.add(`to-${a(t.animation.name)}`))}),await this.hooks.call("content:scroll",t,void 0,()=>this.scrollToContent(t)),await this.hooks.call("page:view",t,{url:this.location.url,title:document.title})},j=function(t){if(null==t?void 0:t.isSwupPlugin){if(t.swup=this,!t._checkRequirements||t._checkRequirements())return t._beforeMount&&t._beforeMount(),t.mount(),this.plugins.push(t),this.plugins}else console.error("Not a swup plugin instance",t)};function I(t){let e=this.findPlugin(t);if(e)return e.unmount(),e._afterUnmount&&e._afterUnmount(),this.plugins=this.plugins.filter(t=>t!==e),this.plugins;console.error("No such plugin",e)}function B(t){return this.plugins.find(e=>e===t||e.name===t||e.name===`Swup${String(t)}`)}function M(t){if("function"!=typeof this.options.resolveUrl)return console.warn("[swup] options.resolveUrl expects a callback function."),t;let e=this.options.resolveUrl(t);return e&&"string"==typeof e?e.startsWith("//")||e.startsWith("http")?(console.warn("[swup] options.resolveUrl needs to return a relative url"),t):e:(console.warn("[swup] options.resolveUrl needs to return a url"),t)}function N(t,e){return this.resolveUrl(t)===this.resolveUrl(e)}let W={animateHistoryBrowsing:!1,animationSelector:'[class*="transition-"]',animationScope:"html",cache:!0,containers:["#swup"],hooks:{},ignoreVisit:(t,{el:e}={})=>!(null==e||!e.closest("[data-no-swup]")),linkSelector:"a[href]",linkToSelf:"scroll",native:!1,plugins:[],resolveUrl:t=>t,requestHeaders:{"X-Requested-With":"swup",Accept:"text/html, application/xhtml+xml"},skipPopStateHandling:t=>{var e;return"swup"!==(null==(e=t.state)?void 0:e.source)},timeout:0};class D{get currentPageUrl(){return this.location.url}constructor(t={}){var e,i;this.version="4.8.2",this.options=void 0,this.defaults=W,this.plugins=[],this.visit=void 0,this.cache=void 0,this.hooks=void 0,this.classes=void 0,this.location=d.fromUrl(window.location.href),this.currentHistoryIndex=void 0,this.clickDelegate=void 0,this.navigating=!1,this.onVisitEnd=void 0,this.use=j,this.unuse=I,this.findPlugin=B,this.log=()=>{},this.navigate=$,this.performNavigation=L,this.createVisit=P,this.delegateEvent=u,this.fetchPage=m,this.awaitAnimations=C,this.renderPage=V,this.replaceContent=R,this.animatePageIn=q,this.animatePageOut=H,this.scrollToContent=x,this.getAnchorElement=T,this.getCurrentUrl=l,this.resolveUrl=M,this.isSameResolvedUrl=N,this.options=r({},this.defaults,t),this.handleLinkClick=this.handleLinkClick.bind(this),this.handlePopState=this.handlePopState.bind(this),this.cache=new f(this),this.classes=new k(this),this.hooks=new E(this),this.visit=this.createVisit({to:""}),this.currentHistoryIndex=null!=(e=null==(i=window.history.state)?void 0:i.index)?e:1,this.enable()}async enable(){var t;let{linkSelector:e}=this.options;for(let[t,i]of(this.clickDelegate=this.delegateEvent(e,"click",this.handleLinkClick),window.addEventListener("popstate",this.handlePopState),this.options.animateHistoryBrowsing&&(window.history.scrollRestoration="manual"),this.options.native=this.options.native&&!!document.startViewTransition,this.options.plugins.forEach(t=>this.use(t)),Object.entries(this.options.hooks))){let[e,o]=this.hooks.parseName(t);this.hooks.on(e,i,o)}"swup"!==(null==(t=window.history.state)?void 0:t.source)&&c(null,{index:this.currentHistoryIndex}),await v(),await this.hooks.call("enable",void 0,void 0,()=>{let t=document.documentElement;t.classList.add("swup-enabled"),t.classList.toggle("swup-native",this.options.native)})}async destroy(){this.clickDelegate.destroy(),window.removeEventListener("popstate",this.handlePopState),this.cache.clear(),this.options.plugins.forEach(t=>this.unuse(t)),await this.hooks.call("disable",void 0,void 0,()=>{let t=document.documentElement;t.classList.remove("swup-enabled"),t.classList.remove("swup-native")}),this.hooks.clear()}shouldIgnoreVisit(t,{el:e,event:i}={}){let{origin:o,url:s,hash:n}=d.fromUrl(t);return o!==window.location.origin||!(!e||!this.triggerWillOpenNewWindow(e))||!!this.options.ignoreVisit(s+n,{el:e,event:i})}handleLinkClick(t){let e=t.delegateTarget,{href:i,url:o,hash:s}=d.fromElement(e);if(this.shouldIgnoreVisit(i,{el:e,event:t}))return;if(this.navigating&&o===this.visit.to.url)return void t.preventDefault();let n=this.createVisit({to:o,hash:s,el:e,event:t});t.metaKey||t.ctrlKey||t.shiftKey||t.altKey?this.hooks.callSync("link:newtab",n,{href:i}):0===t.button&&this.hooks.callSync("link:click",n,{el:e,event:t},()=>{var e;let i=null!=(e=n.from.url)?e:"";t.preventDefault(),o&&o!==i?this.isSameResolvedUrl(o,i)||this.performNavigation(n):s?this.hooks.callSync("link:anchor",n,{hash:s},()=>{c(o+s),this.scrollToContent(n)}):this.hooks.callSync("link:self",n,void 0,()=>{"navigate"===this.options.linkToSelf?this.performNavigation(n):(c(o),this.scrollToContent(n))})})}handlePopState(t){var e,i,o,s;let n=null!=(e=null==(i=t.state)?void 0:i.url)?e:window.location.href;if(this.options.skipPopStateHandling(t)||this.isSameResolvedUrl(l(),this.location.url))return;let{url:r,hash:a}=d.fromUrl(n),h=this.createVisit({to:r,hash:a,event:t});h.history.popstate=!0;let c=null!=(o=null==(s=t.state)?void 0:s.index)?o:0;c&&c!==this.currentHistoryIndex&&(h.history.direction=c-this.currentHistoryIndex>0?"forwards":"backwards",this.currentHistoryIndex=c),h.animation.animate=!1,h.scroll.reset=!1,h.scroll.target=!1,this.options.animateHistoryBrowsing&&(h.animation.animate=!0,h.scroll.reset=!0),this.hooks.callSync("history:popstate",h,{event:t},()=>{this.performNavigation(h)})}triggerWillOpenNewWindow(t){return!!t.matches('[download], [target="_blank"]')}}},2783:(t,e,i)=>{i.d(e,{default:()=>l});var o=i(721),s=i(1726);function n(){return(n=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o])}return t}).apply(this,arguments)}class r{constructor(t){this._raf=null,this._positionY=0,this._velocityY=0,this._targetPositionY=0,this._targetPositionYWithOffset=0,this._direction=0,this.scrollTo=t=>{if(t&&t.nodeType)this._targetPositionY=Math.round(t.getBoundingClientRect().top+window.pageYOffset);else{if(parseInt(this._targetPositionY)!==this._targetPositionY)return void console.error("Argument must be a number or an element.");this._targetPositionY=Math.round(t)}this._targetPositionY>document.documentElement.scrollHeight-window.innerHeight&&(this._targetPositionY=document.documentElement.scrollHeight-window.innerHeight),this._positionY=document.body.scrollTop||document.documentElement.scrollTop,this._direction=this._positionY>this._targetPositionY?-1:1,this._targetPositionYWithOffset=this._targetPositionY+this._direction,this._velocityY=0,this._positionY!==this._targetPositionY?(this.options.onStart(),this._animate()):this.options.onAlreadyAtPositions()},this._animate=()=>{this._update(),this._render(),1===this._direction&&this._targetPositionY>this._positionY||-1===this._direction&&this._targetPositionY<this._positionY?(this._raf=requestAnimationFrame(this._animate),this.options.onTick()):(this._positionY=this._targetPositionY,this._render(),this._raf=null,this.options.onTick(),this.options.onEnd())},this._update=()=>{let t=this._targetPositionYWithOffset-this._positionY;return this._velocityY+=t*this.options.acceleration,this._velocityY*=this.options.friction,this._positionY+=this._velocityY,Math.abs(t)},this._render=()=>{window.scrollTo(0,this._positionY)},this.options=n({},{onAlreadyAtPositions:()=>{},onCancel:()=>{},onEnd:()=>{},onStart:()=>{},onTick:()=>{},friction:.7,acceleration:.04},t),t&&t.friction&&(this.options.friction=1-t.friction),window.addEventListener("mousewheel",t=>{this._raf&&(this.options.onCancel(),cancelAnimationFrame(this._raf),this._raf=null)},{passive:!0})}}function a(){return(a=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o])}return t}).apply(this,arguments)}class l extends o.A{constructor(t={}){super(),this.name="SwupScrollPlugin",this.requires={swup:">=4.2.0"},this.scrl=void 0,this.defaults={doScrollingRightAway:!1,animateScroll:{betweenPages:!0,samePageWithHash:!0,samePage:!0},scrollFriction:.3,scrollAcceleration:.04,getAnchorElement:void 0,offset:0,scrollContainers:"[data-swup-scroll-container]",shouldResetScrollPosition:()=>!0,markScrollTarget:!1},this.options=void 0,this.cachedScrollPositions={},this.previousScrollRestoration=void 0,this.currentCacheKey=void 0,this.getAnchorElement=(t="")=>"function"==typeof this.options.getAnchorElement?this.options.getAnchorElement(t):this.swup.getAnchorElement(t),this.getOffset=t=>t?"function"==typeof this.options.offset?parseInt(String(this.options.offset(t)),10):parseInt(String(this.options.offset),10):0,this.onBeforeLinkToSelf=t=>{t.scroll.animate=this.shouldAnimate("samePage")},this.handleScrollToTop=t=>{var e,i;return null==(e=(i=this.swup).scrollTo)||e.call(i,0,t.scroll.animate),!0},this.onBeforeLinkToAnchor=t=>{t.scroll.animate=this.shouldAnimate("samePageWithHash")},this.handleScrollToAnchor=(t,{hash:e})=>this.maybeScrollToAnchor(e,t.scroll.animate),this.onBeforeVisitStart=t=>{t.scroll.scrolledToContent=!1,t.scroll.animate=this.shouldAnimate("betweenPages")},this.onVisitStart=t=>{var e;this.cacheScrollPositions(t.from.url),this.maybeResetScrollPositions(t);let i=null!=(e=t.scroll.target)?e:t.to.hash;t.scroll.animate&&this.options.doScrollingRightAway&&!i&&this.doScrollingBetweenPages(t)},this.handleScrollToContent=t=>{t.scroll.scrolledToContent||this.doScrollingBetweenPages(t),this.restoreScrollContainers(t.to.url)},this.doScrollingBetweenPages=t=>{var e,i;if(t.history.popstate&&!t.animation.animate)return;let o=null!=(e=t.scroll.target)?e:t.to.hash;if(o&&this.maybeScrollToAnchor(o,t.scroll.animate)||!t.scroll.reset)return;let s=this.getCachedScrollPositions(t.to.url),n=(null==s||null==(i=s.window)?void 0:i.top)||0;requestAnimationFrame(()=>{var e,i;return null==(e=(i=this.swup).scrollTo)?void 0:e.call(i,n,t.scroll.animate)}),t.scroll.scrolledToContent=!0},this.maybeResetScrollPositions=t=>{let{popstate:e}=t.history,{url:i}=t.to,{el:o}=t.trigger;e||o&&!this.options.shouldResetScrollPosition(o)||this.resetScrollPositions(i)},this.options=a({},this.defaults,t)}mount(){let t=this.swup;t.hooks.create("scroll:start"),t.hooks.create("scroll:end");let e=this.swup.createVisit({to:this.swup.currentPageUrl});this.scrl=new r({onStart:()=>t.hooks.callSync("scroll:start",e,void 0),onEnd:()=>t.hooks.callSync("scroll:end",e,void 0),onCancel:()=>t.hooks.callSync("scroll:end",e,void 0),friction:this.options.scrollFriction,acceleration:this.options.scrollAcceleration}),t.scrollTo=(i,o=!0)=>{o?this.scrl.scrollTo(i):(t.hooks.callSync("scroll:start",e,void 0),window.scrollTo(0,i),t.hooks.callSync("scroll:end",e,void 0))},this.previousScrollRestoration=window.history.scrollRestoration,t.options.animateHistoryBrowsing&&(window.history.scrollRestoration="manual"),this.updateScrollTarget=this.updateScrollTarget.bind(this),this.options.markScrollTarget&&(window.addEventListener("popstate",this.updateScrollTarget),window.addEventListener("hashchange",this.updateScrollTarget),this.on("page:view",this.updateScrollTarget),this.on("link:anchor",this.updateScrollTarget),this.on("link:self",this.updateScrollTarget),this.updateScrollTarget()),this.before("visit:start",this.onBeforeVisitStart,{priority:-1}),this.on("visit:start",this.onVisitStart,{priority:1}),this.replace("content:scroll",this.handleScrollToContent),this.before("link:self",this.onBeforeLinkToSelf,{priority:-1}),this.replace("scroll:top",this.handleScrollToTop),this.before("link:anchor",this.onBeforeLinkToAnchor,{priority:-1}),this.replace("scroll:anchor",this.handleScrollToAnchor)}unmount(){super.unmount(),this.previousScrollRestoration&&(window.history.scrollRestoration=this.previousScrollRestoration),window.removeEventListener("popstate",this.updateScrollTarget),window.removeEventListener("hashchange",this.updateScrollTarget),this.cachedScrollPositions={},delete this.swup.scrollTo,delete this.scrl}shouldAnimate(t){return"boolean"==typeof this.options.animateScroll?this.options.animateScroll:this.options.animateScroll[t]}maybeScrollToAnchor(t,e=!1){var i,o;if(!t)return!1;let s=this.getAnchorElement(t);if(!s)return console.warn(`Anchor target ${t} not found`),!1;if(!(s instanceof Element))return console.warn(`Anchor target ${t} is not a DOM node`),!1;let{top:n}=s.getBoundingClientRect(),r=n+window.scrollY-this.getOffset(s);return null==(i=(o=this.swup).scrollTo)||i.call(o,r,e),!0}cacheScrollPositions(t){let e=this.swup.resolveUrl(t),i=(0,s.YG)(this.options.scrollContainers).map(t=>({top:t.scrollTop,left:t.scrollLeft})),o={window:{top:window.scrollY,left:window.scrollX},containers:i};this.cachedScrollPositions[e]=o}resetScrollPositions(t){let e=this.swup.resolveUrl(t);delete this.cachedScrollPositions[e]}getCachedScrollPositions(t){let e=this.swup.resolveUrl(t);return this.cachedScrollPositions[e]}restoreScrollContainers(t){let e=this.getCachedScrollPositions(t);e&&0!==e.containers.length&&(0,s.YG)(this.options.scrollContainers).forEach((t,i)=>{let o=e.containers[i];null!=o&&(t.scrollTop=o.top,t.scrollLeft=o.left)})}updateScrollTarget(){var t;let{hash:e}=window.location,i=document.querySelector("[data-swup-scroll-target]"),o=this.getAnchorElement(e);o instanceof HTMLBodyElement&&(o=null),i!==o&&(null==i||i.removeAttribute("data-swup-scroll-target"),null==(t=o)||t.setAttribute("data-swup-scroll-target",""))}}}}]);